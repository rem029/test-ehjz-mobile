# Test EHJZ Mobile

This is an Expo React Native application integrated with Supabase for Authentication, User Management, and Logging.

## 1. Database Setup (Supabase)

Before running the application, you need to set up the database tables in your Supabase project. Navigate to the **SQL Editor** in your Supabase dashboard and run the following scripts.

### Create Logs Table
This table is used by the application's logging service and global error handler.

```sql
create table public.logs (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  type text null,
  message character varying null,
  data json null,
  constraint logs_pkey primary key (id)
) TABLESPACE pg_default;
```

### Create Users Table
This table stores additional user profile information linked to the Supabase Auth users.

```sql
create table public.users (
  id uuid not null default extensions.uuid_generate_v4 (),
  full_name character varying(100) null,
  dob date not null,
  address text null,
  created_at timestamp without time zone not null default now(),
  updated_at timestamp without time zone not null default now(),
  role text null,
  constraint users_pkey primary key (id),
  constraint users_id_fkey foreign KEY (id) references auth.users (id) on delete CASCADE
) TABLESPACE pg_default;
```

## 2. Environment Setup

Create a `.env` file in the root of your project to store your Supabase credentials. You can use the example file as a template:

```bash
cp .env.example .env
```

Open the `.env` file and populate the following variables found in your Supabase Project Settings (API section):

```ini
EXPO_PUBLIC_SUPABASE_ANON_KEY=your_anon_key_here
EXPO_PUBLIC_SUPABASE_URL=your_project_url_here
```

## 3. Installation

Install the project dependencies using npm:

```bash
npm install
# or
npm ci
```

## 4. Running the App

To start the development server using an Expo Go tunnel (recommended for testing on physical devices):

```bash
npm run start:tunnel
```

This will generate a QR code that you can scan with the Expo Go app on your Android or iOS device.

## 5. Folder Structure

- **app**: The main entry point following Expo Router guidelines.
- **services**: External services needed, such as Supabase.
- **stores**: State management (using Zustand for simplicity).
- **styles**: Styling for each component.
- **utils**: Helper functions.
